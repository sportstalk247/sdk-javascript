!function(){var e,t,r,n={};Object.defineProperty(n,"__esModule",{value:!0}),n.EventModerationState=n.ChatOptionsEventType=n.CustomEventTypes=n.EventType=void 0,(r=n.EventType||(n.EventType={})).speech="speech",r.purge="purge",r.mute="mute",r.bounce="bounce",r.reaction="reaction",r.replace="replace",r.remove="remove",r.roomClosed="roomclosed",r.roomOpen="roomopened",r.action="action",r.reply="reply",r.quote="quote",r.ad="ad",r.exit="exit",r.enter="enter",r.announcement="announcement",r.custom="custom",n.CustomEventTypes={goal:"goal"},(t=n.ChatOptionsEventType||(n.ChatOptionsEventType={})).announcement="announcement",t.custom="custom",t.ad="ad",(e=n.EventModerationState||(n.EventModerationState={})).na="na",e.approved="approved",e.rejected="rejected";var o={};Object.defineProperty(o,"__esModule",{value:!0}),o.PUT=o.DELETE=o.GET=o.POST=o.DEFAULT_CONFIG=o.API_TOKEN_HEADER=o.FORM_ENCODED=o.DEFAULT_ENDPOINT=void 0,o.DEFAULT_ENDPOINT="https://api.sportstalk247.com/api/v3",o.FORM_ENCODED="application/x-www-form-urlencoded",o.API_TOKEN_HEADER="x-api-token",o.DEFAULT_CONFIG={endpoint:o.DEFAULT_ENDPOINT,smoothEventUpdates:!0},o.POST="POST",o.GET="GET",o.DELETE="DELETE",o.PUT="PUT";var i,s={},a=this&&this.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(s,"__esModule",{value:!0}),s.RequireUserError=s.SettingsError=s.ValidationError=void 0;var u=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n.name="ValidationError",n}return a(t,e),t}(Error);s.ValidationError=u;var c=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n.name="SettingsError",n}return a(t,e),t}(Error);s.SettingsError=c;var d=function(e){function t(r){var n=e.call(this,r)||this;return Object.setPrototypeOf(n,t.prototype),n.name="RequireUserError",n}return a(t,e),t}(Error);s.RequireUserError=d;var f={};function l(e){var t=[];for(var r in e){var n=r;if(void 0!==e[r]&&null!==e[r]&&NaN!==e[r]){var o=encodeURIComponent(e[r]);t.push(n+"="+o)}}return t.join("&")}Object.defineProperty(f,"__esModule",{value:!0}),f.forceObjKeyOrString=f.getJSONHeaders=f.getUrlEncodedHeaders=f.buildAPI=f.formify=void 0,f.formify=l,f.buildAPI=function(e,t,r){var n=(e.endpoint||o.DEFAULT_CONFIG.endpoint)+"/"+e.appId+"/"+t;return r&&Object.keys(r).length>0&&(n=n+"?"+l(r)),n},f.getUrlEncodedHeaders=function(e){var t={"Content-Type":o.FORM_ENCODED};return e&&(t[o.API_TOKEN_HEADER]=e),t},f.getJSONHeaders=function(e){var t={};return e&&(t[o.API_TOKEN_HEADER]=e),t},f.forceObjKeyOrString=function(e,t){void 0===t&&(t="id");var r=e[t]||e;if("string"==typeof r)return r;throw new s.ValidationError("Missing required string property "+t)};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.THROTTLE_ERROR=h.USER_NEEDS_ID=h.REQUIRE_ROOM_ID=h.NO_ROOM_SET=h.NO_HANDLER_SET=h.NO_CONVERSATION_SET=h.MUST_SPECIFY_CONVERSATION=h.MUST_SET_USER=h.MISSING_ROOM=h.MISSING_REPLYTO_ID=void 0,h.MISSING_REPLYTO_ID="Need a replyto message ID to reply",h.MISSING_ROOM="Need to join a room first!",h.MUST_SET_USER="Must set user",h.MUST_SPECIFY_CONVERSATION="Must set a comments in method call or set a default",h.NO_CONVERSATION_SET="Need to set a valid conversation with a conversationid",h.NO_HANDLER_SET="No event handler set",h.NO_ROOM_SET="No room set.  You must join a room before you can get updates!",h.REQUIRE_ROOM_ID="Room must have an id",h.USER_NEEDS_ID="User needs an ID",h.THROTTLE_ERROR="405 - Not Allowed. Please wait to send this message again";var v=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},m=Object.prototype.toString;function p(e){return"[object Array]"===m.call(e)}function _(e){return void 0===e}function g(e){return null!==e&&"object"==typeof e}function y(e){if("[object Object]"!==m.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function S(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),p(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}var b={isArray:p,isArrayBuffer:function(e){return"[object ArrayBuffer]"===m.call(e)},isBuffer:function(e){return null!==e&&!_(e)&&null!==e.constructor&&!_(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:g,isPlainObject:y,isUndefined:_,isDate:function(e){return"[object Date]"===m.call(e)},isFile:function(e){return"[object File]"===m.call(e)},isBlob:function(e){return"[object Blob]"===m.call(e)},isStream:function(e){return g(e)&&function(e){return"[object Function]"===m.call(e)}(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:S,merge:function e(){var t={};function r(r,n){y(t[n])&&y(r)?t[n]=e(t[n],r):y(r)?t[n]=e({},r):p(r)?t[n]=r.slice():t[n]=r}for(var n=0,o=arguments.length;n<o;n++)S(arguments[n],r);return t},extend:function(e,t,r){return S(t,function(t,n){e[n]=r&&"function"==typeof t?v(t,r):t}),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}};function E(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var R=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(b.isURLSearchParams(t))n=t.toString();else{var o=[];b.forEach(t,function(e,t){null!=e&&(b.isArray(e)?t+="[]":e=[e],b.forEach(e,function(e){b.isDate(e)?e=e.toISOString():b.isObject(e)&&(e=JSON.stringify(e)),o.push(E(t)+"="+E(e))}))}),n=o.join("&")}if(n){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+n}return e},O={};function w(){this.handlers=[]}w.prototype.use=function(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},w.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},w.prototype.forEach=function(e){b.forEach(this.handlers,function(t){null!==t&&e(t)})},O=w;var C,T,j,P=function(e,t){b.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})},U=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},I=function(e,t,r,n,o){var i=new Error(e);return U(i,t,r,n,o)},A=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(I("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)},H=b.isStandardBrowserEnv()?{write:function(e,t,r,n,o,i){var s=[];s.push(e+"="+encodeURIComponent(t)),b.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),b.isString(n)&&s.push("path="+n),b.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},N=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],x=function(e){var t,r,n,o={};return e?(b.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=b.trim(e.substr(0,n)).toLowerCase(),r=b.trim(e.substr(n+1)),t){if(o[t]&&N.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):o},q=b.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=b.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},M=function(e){return new Promise(function(t,r){var n=e.data,o=e.headers,i=e.responseType;b.isFormData(n)&&delete o["Content-Type"];var s=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",u=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";o.Authorization="Basic "+btoa(a+":"+u)}var c,d,f=(c=e.baseURL,d=e.url,c&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(d)?function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(c,d):d);function l(){if(s){var n="getAllResponseHeaders"in s?x(s.getAllResponseHeaders()):null,o={data:i&&"text"!==i&&"json"!==i?s.response:s.responseText,status:s.status,statusText:s.statusText,headers:n,config:e,request:s};A(t,r,o),s=null}}if(s.open(e.method.toUpperCase(),R(f,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,"onloadend"in s?s.onloadend=l:s.onreadystatechange=function(){s&&4===s.readyState&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))&&setTimeout(l)},s.onabort=function(){s&&(r(I("Request aborted",e,"ECONNABORTED",s)),s=null)},s.onerror=function(){r(I("Network Error",e,null,s)),s=null},s.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),r(I(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",s)),s=null},b.isStandardBrowserEnv()){var h=(e.withCredentials||q(f))&&e.xsrfCookieName?H.read(e.xsrfCookieName):void 0;h&&(o[e.xsrfHeaderName]=h)}"setRequestHeader"in s&&b.forEach(o,function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)}),b.isUndefined(e.withCredentials)||(s.withCredentials=!!e.withCredentials),i&&"json"!==i&&(s.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){s&&(s.abort(),r(e),s=null)}),n||(n=null),s.send(n)})},k=C={};function D(){throw new Error("setTimeout has not been defined")}function K(){throw new Error("clearTimeout has not been defined")}function L(e){if(T===setTimeout)return setTimeout(e,0);if((T===D||!T)&&setTimeout)return T=setTimeout,setTimeout(e,0);try{return T(e,0)}catch(t){try{return T.call(null,e,0)}catch(t){return T.call(this,e,0)}}}!function(){try{T="function"==typeof setTimeout?setTimeout:D}catch(e){T=D}try{j="function"==typeof clearTimeout?clearTimeout:K}catch(e){j=K}}();var B,F=[],G=!1,J=-1;function V(){G&&B&&(G=!1,B.length?F=B.concat(F):J=-1,F.length&&z())}function z(){if(!G){var e=L(V);G=!0;for(var t=F.length;t;){for(B=F,F=[];++J<t;)B&&B[J].run();J=-1,t=F.length}B=null,G=!1,function(e){if(j===clearTimeout)return clearTimeout(e);if((j===K||!j)&&clearTimeout)return j=clearTimeout,clearTimeout(e);try{j(e)}catch(t){try{return j.call(null,e)}catch(t){return j.call(this,e)}}}(e)}}function W(e,t){this.fun=e,this.array=t}function Q(){}k.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];F.push(new W(e,t)),1!==F.length||G||L(z)},W.prototype.run=function(){this.fun.apply(null,this.array)},k.title="browser",k.browser=!0,k.env={},k.argv=[],k.version="",k.versions={},k.on=Q,k.addListener=Q,k.once=Q,k.off=Q,k.removeListener=Q,k.removeAllListeners=Q,k.emit=Q,k.prependListener=Q,k.prependOnceListener=Q,k.listeners=function(e){return[]},k.binding=function(e){throw new Error("process.binding is not supported")},k.cwd=function(){return"/"},k.chdir=function(e){throw new Error("process.chdir is not supported")},k.umask=function(){return 0};var Y={};(function(e){(function(){"use strict";var t={"Content-Type":"application/x-www-form-urlencoded"};function r(e,t){!b.isUndefined(e)&&b.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var n,o={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?n=M:void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(n=M),n),transformRequest:[function(e,t){return P(t,"Accept"),P(t,"Content-Type"),b.isFormData(e)||b.isArrayBuffer(e)||b.isBuffer(e)||b.isStream(e)||b.isFile(e)||b.isBlob(e)?e:b.isArrayBufferView(e)?e.buffer:b.isURLSearchParams(e)?(r(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):b.isObject(e)||t&&"application/json"===t["Content-Type"]?(r(t,"application/json"),function(e,t,r){if(b.isString(e))try{return(0,JSON.parse)(e),b.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,r=t&&t.silentJSONParsing,n=t&&t.forcedJSONParsing,o=!r&&"json"===this.responseType;if(o||n&&b.isString(e)&&e.length)try{return JSON.parse(e)}catch(i){if(o){if("SyntaxError"===i.name)throw U(i,this,"E_JSON_PARSE");throw i}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};b.forEach(["delete","get","head"],function(e){o.headers[e]={}}),b.forEach(["post","put","patch"],function(e){o.headers[e]=b.merge(t)}),Y=o}).call(this)}).call(this,C);var X=function(e,t,r){var n=this||Y;return b.forEach(r,function(r){e=r.call(n,e,t)}),e},$=function(e){return!(!e||!e.__CANCEL__)};function Z(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var ee,te=function(e){return Z(e),e.headers=e.headers||{},e.data=X.call(e,e.data,e.headers,e.transformRequest),e.headers=b.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),b.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||Y.adapter)(e).then(function(t){return Z(e),t.data=X.call(e,t.data,t.headers,e.transformResponse),t},function(t){return $(t)||(Z(e),t&&t.response&&(t.response.data=X.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})},re=function(e,t){t=t||{};var r={},n=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function a(e,t){return b.isPlainObject(e)&&b.isPlainObject(t)?b.merge(e,t):b.isPlainObject(t)?b.merge({},t):b.isArray(t)?t.slice():t}function u(n){b.isUndefined(t[n])?b.isUndefined(e[n])||(r[n]=a(void 0,e[n])):r[n]=a(e[n],t[n])}b.forEach(n,function(e){b.isUndefined(t[e])||(r[e]=a(void 0,t[e]))}),b.forEach(o,u),b.forEach(i,function(n){b.isUndefined(t[n])?b.isUndefined(e[n])||(r[n]=a(void 0,e[n])):r[n]=a(void 0,t[n])}),b.forEach(s,function(n){n in t?r[n]=a(e[n],t[n]):n in e&&(r[n]=a(void 0,e[n]))});var c=n.concat(o).concat(i).concat(s),d=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===c.indexOf(e)});return b.forEach(d,u),r},ne={version:"0.21.4"},oe={};["object","boolean","number","function","string","symbol"].forEach(function(e,t){oe[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});var ie={},se=ne.version.split(".");oe.transitional=function(e,t,r){var n=t&&function(e,t){for(var r=t?t.split("."):se,n=e.split("."),o=0;o<3;o++){if(r[o]>n[o])return!0;if(r[o]<n[o])return!1}return!1}(t);function o(e,t){return"[Axios v"+ne.version+"] Transitional option '"+e+"'"+t+(r?". "+r:"")}return function(r,i,s){if(!1===e)throw new Error(o(i," has been removed in "+t));return n&&!ie[i]&&(ie[i]=!0,console.warn(o(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,s)}};var ae={},ue=(ee={assertOptions:function(e,t,r){if("object"!=typeof e)throw new TypeError("options must be an object");for(var n=Object.keys(e),o=n.length;o-- >0;){var i=n[o],s=t[i];if(s){var a=e[i],u=void 0===a||s(a,i,e);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==r)throw Error("Unknown option "+i)}},validators:oe}).validators;function ce(e){this.defaults=e,this.interceptors={request:new O,response:new O}}ce.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=re(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&ee.assertOptions(t,{silentJSONParsing:ue.transitional(ue.boolean,"1.0.0"),forcedJSONParsing:ue.transitional(ue.boolean,"1.0.0"),clarifyTimeoutError:ue.transitional(ue.boolean,"1.0.0")},!1);var r=[],n=!0;this.interceptors.request.forEach(function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,r.unshift(t.fulfilled,t.rejected))});var o,i=[];if(this.interceptors.response.forEach(function(e){i.push(e.fulfilled,e.rejected)}),!n){var s=[te,void 0];for(Array.prototype.unshift.apply(s,r),s=s.concat(i),o=Promise.resolve(e);s.length;)o=o.then(s.shift(),s.shift());return o}for(var a=e;r.length;){var u=r.shift(),c=r.shift();try{a=u(a)}catch(d){c(d);break}}try{o=te(a)}catch(d){return Promise.reject(d)}for(;i.length;)o=o.then(i.shift(),i.shift());return o},ce.prototype.getUri=function(e){return e=re(this.defaults,e),R(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},b.forEach(["delete","get","head","options"],function(e){ce.prototype[e]=function(t,r){return this.request(re(r||{},{method:e,url:t,data:(r||{}).data}))}}),b.forEach(["post","put","patch"],function(e){ce.prototype[e]=function(t,r,n){return this.request(re(n||{},{method:e,url:t,data:r}))}}),ae=ce;var de={};function fe(e){this.message=e}fe.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},fe.prototype.__CANCEL__=!0,de=fe;var le;function he(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new de(e),t(r.reason))})}he.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},he.source=function(){var e;return{token:new he(function(t){e=t}),cancel:e}},le=he;var ve={};function me(e){var t=new ae(e),r=v(ae.prototype.request,t);return b.extend(r,ae.prototype,t),b.extend(r,t),r}var pe=me(Y);pe.Axios=ae,pe.create=function(e){return me(re(pe.defaults,e))},pe.Cancel=de,pe.CancelToken=le,pe.isCancel=$,pe.all=function(e){return Promise.all(e)},pe.spread=function(e){return function(t){return e.apply(null,t)}},pe.isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError},(ve=pe).default=pe;var _e=ve,ge={},ye=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},Se=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(ge,"__esModule",{value:!0}),ge.stRequest=void 0;ge.stRequest="undefined"!=typeof window&&window.fetch?function(e){return ye(this,void 0,void 0,function(){return Se(this,function(t){return e.data&&(e.body=JSON.stringify(e.data)),e.headers["Content-Type"]="application/json",[2,window.fetch(e.url,e).then(function(e){if(e.ok)return e.json();var t=new Error(e.statusText);throw t.response={status:e.status},t})]})})}:function(e,t){return ye(this,void 0,void 0,function(){return Se(this,function(r){return e&&e.headers&&(e.decompress=!0),[2,_e.default(e).then(function(e){return e.data}).catch(function(e){if(t)return t(e);throw e})]})})};var be={};(function(e){(function(){"use strict";var t=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},r=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(be,"__esModule",{value:!0}),be.RestfulChatEventService=void 0;var i=function(i,a){var u=this;void 0===a&&(a={}),this._config={appId:""},this._apiHeaders={},this._jsonHeaders={},this._fetching=!1,this._eventHandlers={},this._ignoreList=new Set,this._user={userid:"",handle:""},this.lastCursor=void 0,this.oldestCursor=void 0,this._maxEventsPerUpdateLimit=100,this._maxEventBufferSize=30,this._pollFrequency=800,this._preRenderedMessages=new Set,this._eventSpacingMs=100,this.setUpdatesCursor=function(e){u.lastCursor=e||""},this.setPreviousEventsCursor=function(e){u.oldestCursor=e||""},this.setEventHandlers=function(e){u._eventHandlers=e},this.getEventHandlers=function(){return u._eventHandlers||{}},this.setUser=function(e){u._config.user=Object.assign(u._user,e),u._user=u._config.user},this.getCurrentUser=function(){return u._user},this.setConfig=function(t){u._config=Object.assign(o.DEFAULT_CONFIG,t),u._user=Object.assign(u._user,u._config.user),u._apiHeaders=f.getUrlEncodedHeaders(u._config.apiToken),u._jsonHeaders=f.getJSONHeaders(u._config.apiToken),u._smoothEventUpdates=!(!u._config.smoothEventUpdates&&!u._smoothEventUpdates),u._maxEventBufferSize=u._config.maxEventBufferSize||u._maxEventBufferSize;try{var r=e.env.SPORTSTALK_POLL_FREQUENCY?parseInt(e.env.SPORTSTALK_POLL_FREQUENCY):800;u._pollFrequency=r}catch(n){console.log(n),u._pollFrequency=t.chatEventPollFrequency||800}u._eventSpacingMs=t.updateEmitFrequency||Math.floor(u._pollFrequency/100)},this.setEventSmoothingMs=function(e){e&&"number"==typeof e&&(u._eventSpacingMs=e)},this._startKeepAlive=function(e,t){var r={method:o.POST,url:f.buildAPI(u._config,"/chat/rooms/"+e+"/sessions/"+t+"/touch"),headers:u._apiHeaders};u._keepAliveFunction=function(){return ge.stRequest(r)},u._endKeepAlive(),u._keepAliveInterval=setInterval(u._keepAliveFunction,1e3)},this._endKeepAlive=function(){u._keepAliveInterval&&clearInterval(u._keepAliveInterval)},this.getCurrentRoom=function(){return u._currentRoom},this.setCurrentRoom=function(e){var t=u._currentRoom;if(!e||!e.id)throw new s.SettingsError(h.REQUIRE_ROOM_ID);return u._currentRoom&&u._currentRoom.id===e.id?u._currentRoom=e:(u.lastTimestamp=void 0,u.lastCursor=void 0,u.lastMessageId=void 0,u.firstMessageId=void 0,u.firstMessageTime=void 0,u._currentRoom=e,u._eventHandlers.onRoomChange&&u._eventHandlers.onRoomChange(u._currentRoom,t),u._currentRoom?u._roomApi=f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id):u._roomApi=null,u._commandApi=u._roomApi+"/command",u._updatesApi=u._roomApi+"/updates"),e},this.setUpdateSpeed=function(e){u._pollFrequency=e},this.startEventUpdates=function(e){if(u._startKeepAlive(u._currentRoom.id,u._user.userid||"anonymous"),e&&(u._maxEventsPerUpdateLimit=e),u._polling)console.log("ALREADY CONNECTED TO TALK");else{if(!u._updatesApi||!u._currentRoom)throw new s.SettingsError(h.NO_ROOM_SET);if(u._eventHandlers.onChatStart&&u._eventHandlers.onChatStart(),!u._eventHandlers.onChatEvent&&!u._eventHandlers.onNetworkResponse)throw new s.SettingsError(h.NO_HANDLER_SET);if(!u._pollFrequency||isNaN(u._pollFrequency)||u._pollFrequency<250||u._pollFrequency>5e3)throw new s.SettingsError("Invalid poll _pollFrequency.  Must be between 250ms and 5000ms");u._polling=setInterval(u._fetchUpdatesAndTriggerCallbacks,u._pollFrequency||500),u._fetchUpdatesAndTriggerCallbacks()}},this._fetchUpdatesAndTriggerCallbacks=function(){if(u._fetching)return Promise.resolve();var e=u.lastCursor;return u._fetching=!0,u.getUpdates(e,u._maxEventsPerUpdateLimit).then(u.handleUpdates).catch(function(e){u._eventHandlers&&u._eventHandlers.onNetworkError?u._eventHandlers.onNetworkError(e):console.log(e),u._fetching=!1})},this.stopEventUpdates=function(){u._endKeepAlive(),u._polling&&clearInterval(u._polling)},this.getUpdates=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=100),!u._roomApi)throw new s.SettingsError("No room selected");var r={method:o.GET,url:u._updatesApi+"?limit="+t+"&cursor="+e,headers:u._apiHeaders};return ge.stRequest(r).then(function(e){return u._eventHandlers&&u._eventHandlers.onNetworkResponse&&u._eventHandlers.onNetworkResponse(e),e.data&&e.data.cursor&&(u.lastCursor=e.data.cursor),e.data})},this._handleUpdate=function(e){(!e.shadowban||e.userid===u._user.userid&&u._user)&&(e.eventtype==n.EventType.purge&&u._eventHandlers.onPurgeEvent?u._eventHandlers.onPurgeEvent(e):e.eventtype==n.EventType.reply&&u._eventHandlers.onReply?u._eventHandlers.onReply(e):e.eventtype==n.EventType.bounce&&u._eventHandlers.onBounce?u._eventHandlers.onBounce(e):e.eventtype==n.EventType.reaction&&u._eventHandlers.onReaction?u._eventHandlers.onReaction(e):e.eventtype==n.EventType.replace&&u._eventHandlers.onReplace?u._eventHandlers.onReplace(e):e.eventtype==n.EventType.remove&&u._eventHandlers.onRemove?u._eventHandlers.onRemove(e):!u._eventHandlers.onAnnouncement||e.eventtype!=n.EventType.announcement&&e.customtype!=n.EventType.announcement?u._eventHandlers.onChatEvent&&u._eventHandlers.onChatEvent(e):u._eventHandlers.onAnnouncement(e))},this._spacedUpdate=function(e,t,r,n){var o=n||u._eventSpacingMs;return new Promise(function(n,i){setTimeout(function(){r(e),n(!0)},t*o)})},this.handleUpdates=function(e){return t(u,void 0,void 0,function(){var t,n,o,i,s=this;return r(this,function(r){switch(r.label){case 0:if(this._fetching=!1,!e)return[2];if(e.cursor&&(this.lastCursor=e.cursor),!(t=e.events)||!t.length)return[3,5];n=0,r.label=1;case 1:return n<t.length?(o=t[n],this._preRenderedMessages.has(o.id)?(this._preRenderedMessages.delete(o.id),[3,4]):(i=o.ts,!this.lastTimestamp||i>this.lastTimestamp?(this.lastTimestamp=i,this.lastMessageId=o.id):(!this.firstMessageTime||i<this.firstMessageTime)&&(this.firstMessageTime=i,this.firstMessageId=o.id),this._ignoreList.has(o.userid)?[3,4]:this._smoothEventUpdates&&t.length<this._maxEventBufferSize?[4,this._spacedUpdate(o,n,this._handleUpdate).catch(function(e){if(s._eventHandlers&&s._eventHandlers.onNetworkError)return s._eventHandlers.onNetworkError(e);console.log(e)})]:[3,3])):[3,5];case 2:return r.sent(),[3,4];case 3:this._handleUpdate(o),r.label=4;case 4:return n++,[3,1];case 5:return[2]}})})},this._evaluateCommandResponse=function(e,n){return t(u,void 0,void 0,function(){var t,o;return r(this,function(r){switch(r.label){case 0:if(e.startsWith("*")){if(t=this._eventHandlers.onHelp,e.startsWith("*help")&&t&&t instanceof Function)return t(n),[2,n];(o=this._eventHandlers.onAdminCommand)&&o instanceof Function&&o(n)}return n.data.speech&&this._smoothEventUpdates?[4,this.handleUpdates({events:[n.data.speech]})]:[3,2];case 1:r.sent(),this._preRenderedMessages.add(n.data.speech.id),r.label=2;case 2:return[2,n]}})})},this.executeChatCommand=function(e,t,r){var n=Object.assign(r||{},{command:t,userid:e.userid}),i={method:o.POST,url:u._commandApi,headers:u._jsonHeaders,data:n},s=u._eventHandlers&&u._eventHandlers.onNetworkError;return ge.stRequest(i,s).then(function(e){return u._evaluateCommandResponse(t,e)})},this.sendThreadedReply=function(e,t,r,n){var i=r.id||r,s=Object.assign({body:t,userid:e.userid},n),a={method:o.POST,url:f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id+"/events/"+i+"/reply"),headers:u._jsonHeaders,data:s};return ge.stRequest(a).catch(function(e){throw e})},this.sendQuotedReply=function(e,t,r,n){var i=r.id||r,s=Object.assign({body:t,userid:e.userid},n),a={method:o.POST,url:f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id+"/events/"+i+"/quote"),headers:u._jsonHeaders,data:s};return ge.stRequest(a).then(function(e){return e}).catch(function(e){throw e})},this.reportMessage=function(e,t){var r=e.id||e,n={method:o.POST,url:f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id+"/events/"+r+"/report"),headers:u._jsonHeaders,data:t};return ge.stRequest(n).then(function(e){return e}).catch(function(e){throw e})},this.reactToEvent=function(e,t,r,n){var i=r.id||r,s=Object.assign({command:"",userid:e.userid,reacted:!0,reaction:t},n),a={method:o.POST,url:u._roomApi+"/events/"+i+"/react",headers:u._jsonHeaders,data:s};return ge.stRequest(a).then(function(e){return e.data}).catch(function(e){throw e})},this.sendAdvertisement=function(e,t){var r=Object.assign({command:t.message||"advertisement",eventtype:n.ChatOptionsEventType.custom,customtype:n.ChatOptionsEventType.ad,userid:e.userid,custompayload:JSON.stringify(t)}),i={method:o.POST,headers:u._jsonHeaders,data:r,url:u._commandApi};return ge.stRequest(i).then(function(e){return e.data})},this.sendGoal=function(e,t,r,i){var s={img:t,link:""};r&&"string"!=typeof r&&(r="GOAL!");var a=Object.assign({command:r||"GOAL!",eventtype:n.ChatOptionsEventType.custom,customtype:n.CustomEventTypes.goal,userid:e.userid,custompayload:JSON.stringify(Object.assign(s,i))});return ge.stRequest({method:o.POST,url:u._commandApi,headers:u._jsonHeaders,data:a}).then(function(e){return e})},this.permanetlyDeleteEvent=function(e,t){if(!t)throw new Error("Cannot delete a null or undefined event");e.userid;var r=t.id||t;if(!r)throw new Error("Cannot delete an event without an id");var n={method:o.DELETE,url:f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id+"/events/"+r),headers:u._jsonHeaders};return ge.stRequest(n).then(function(e){return e}).catch(function(e){throw e})},this.flagEventLogicallyDeleted=function(e,t,r){if(void 0===r&&(r=!1),!t)throw new Error("Cannot delete a null or undefined event");var n=e.userid||e,i=t.id||t;if(!i)throw new Error("Cannot delete an event without an id");var s={method:o.PUT,headers:u._jsonHeaders,url:f.buildAPI(u._config,"chat/rooms/"+u._currentRoom.id+"/events/"+i+"/setdeleted?userid="+n+"&deleted=true&permanentifnoreplies="+r)};return ge.stRequest(s).then(function(e){return e}).catch(function(e){throw e})},this.listPreviousEvents=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=100),!u._roomApi)throw new s.SettingsError("No room selected");var r=e||u.oldestCursor||"";return ge.stRequest({method:o.GET,url:u._roomApi+"/listpreviousevents?cursor="+(r||"")+"&limit="+(t||100),headers:u._apiHeaders}).then(function(t){return e||(u.oldestCursor=t.data?t.data.cursor:u.oldestCursor),t.data})},this.listEventsHistory=function(e,t){if(void 0===e&&(e=""),void 0===t&&(t=100),!u._roomApi)throw new s.SettingsError("No room selected");return ge.stRequest({method:o.GET,url:u._roomApi+"/listeventshistory?cursor="+(e||"")+"&limit="+(t||100),headers:u._apiHeaders}).then(function(e){return e.data})},this.searchEventHistory=function(e){if(e.fromhandle&&e.fromuserid)throw new s.SettingsError("Search for ID or Handle, not both");return ge.stRequest({method:o.POST,url:f.buildAPI(u._config,"chat/searchevents"),headers:u._apiHeaders,data:e}).then(function(e){return e.data})},this.listEventsByType=function(e){return ge.stRequest({method:o.GET,url:u._roomApi+"/listeventsbytype?eventtype="+e,headers:u._apiHeaders}).then(function(e){return e.data})},this.updateChatEvent=function(e,t,r){var n=r?r.userid||r:u._user.userid,i=f.forceObjKeyOrString(e,"id");if(!n)throw new Error("Require a valid userid to update a Chat Event.");var s={method:o.PUT,url:f.buildAPI(u._config,"/chat/rooms/"+u._currentRoom.id+"/events/"+i),headers:u._jsonHeaders,data:{userid:n,body:t}};return ge.stRequest(s).then(function(e){return e.data})},this.listEventsByTimestamp=function(e){if(!e||!e.ts)throw new Error("Must provide a timestamp value to list events");var t={method:o.GET,url:f.buildAPI(u._config,"/chat/rooms/"+u._currentRoom.id+"}/eventsbytimestamp/list/"+e.ts+"?limitolder="+(e.limitolder?e.limitolder:0)+"&limitnewer="+(e.limitnewer?e.limitnewer:0)),headers:u._jsonHeaders};return ge.stRequest(t).then(function(e){return e.data})},this.setConfig(i),this.setEventHandlers(a)};be.RestfulChatEventService=i}).call(this)}).call(this,C);var Ee,Re,Oe={};Object.defineProperty(Oe,"__esModule",{value:!0}),Oe.ReportType=Oe.ModerationType=void 0,(Re=Oe.ModerationType||(Oe.ModerationType={})).pre="pre",Re.post="post",(Ee=Oe.ReportType||(Oe.ReportType={})).abuse="abuse",Ee.spam="spam";var we={};Object.defineProperty(we,"__esModule",{value:!0}),we.RestfulChatRoomService=void 0;var Ce=function(){function e(e){var t=this;this._apiHeaders={},this._jsonHeaders={},this._apiExt="chat/rooms",this.setConfig=function(e){t._config=e,t._apiHeaders=f.getUrlEncodedHeaders(t._config.apiToken),t._jsonHeaders=f.getJSONHeaders(t._config.apiToken)},this.listRooms=function(e,r){var n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"?cursor="+(e||"")+"&limit="+(r||100)),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.deleteRoom=function(e){var r=f.forceObjKeyOrString(e),n={method:o.DELETE,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.createRoom=function(e){var r={method:o.POST,url:f.buildAPI(t._config,t._apiExt),headers:t._jsonHeaders,data:e};return ge.stRequest(r).then(function(e){return e.data})},this.listUserMessages=function(e,r,n,i){void 0===n&&(n=""),void 0===i&&(i=100);var s=f.forceObjKeyOrString(r),a=f.forceObjKeyOrString(e,"userid"),u=f.buildAPI(t._config,t._apiExt+"/"+s+"/messagesbyuser/"+a+"/?limit="+(i||100)+"&cursor="+(n||""));return ge.stRequest({method:o.GET,url:u,headers:t._jsonHeaders}).then(function(e){return e.data})},this.listParticipants=function(e,r,n){void 0===n&&(n=200);var i={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+e.id+"/participants?cursor="+(r||"")+"&maxresults="+(n||200)),headers:t._jsonHeaders};return ge.stRequest(i).then(function(e){return e.data})},this.joinRoom=function(e,r){var n=f.forceObjKeyOrString(e),i={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+n+"/join"),headers:t._jsonHeaders};return r&&r.userid&&(i.data={userId:r.userid,handle:r.handle,displayname:r.displayname||"",pictureurl:r.pictureurl||"",profileurl:r.profileurl||""}),ge.stRequest(i).then(function(e){return e.data})},this.getEventById=function(e,r){if(!r)throw new s.SettingsError("Cannot retrieve event: No room selected");if(!e)throw new s.SettingsError("Cannot retrieve event: Invalid event ID");var n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r+"/events/"+e),headers:t._apiHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.exitRoom=function(e,r){var n=f.forceObjKeyOrString(r),i=f.forceObjKeyOrString(e,"userid"),s={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+n+"/exit"),headers:t._jsonHeaders,data:{userid:i}};return ge.stRequest(s).then(function(e){return e.message})},this.closeRoom=function(e){var r=f.forceObjKeyOrString(e),n={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders,data:{roomisopen:!1}};return ge.stRequest(n).then(function(e){return e.message})},this.openRoom=function(e){var r=f.forceObjKeyOrString(e),n={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders,data:{roomisopen:!0}};return ge.stRequest(n).then(function(e){return e.message})},this.updateRoom=function(e){var r=f.forceObjKeyOrString(e),n={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders,data:e};return ge.stRequest(n).then(function(e){return e.message})},this.getRoomDetails=function(e){var r=f.forceObjKeyOrString(e),n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.getRoomDetailsByCustomId=function(e){var r=f.forceObjKeyOrString(e,"customid"),n={method:o.GET,url:f.buildAPI(t._config,"chat/roomsbycustomid/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.purgeUserMessagesFromRoom=function(e,r){var n=f.forceObjKeyOrString(e,"id"),i=f.forceObjKeyOrString(r,"userid"),s={method:o.POST,url:f.buildAPI(t._config,"chat/rooms/"+n+"/commands/purge/"+i),headers:t._jsonHeaders};return ge.stRequest(s)},this.bounceUserFromRoom=function(e,r,n){var i=f.forceObjKeyOrString(e,"id"),s=f.forceObjKeyOrString(r,"userid"),a=n||"The bouncer shows "+(r.handle||s)+" the way out.",u={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+i+"/bounce"),headers:t._jsonHeaders,data:{userid:s,bounce:"true",announcement:a}};return ge.stRequest(u)},this.unbounceUserFromRoom=function(e,r,n){var i=f.forceObjKeyOrString(e),s=f.forceObjKeyOrString(r,"userid"),a={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+i+"/bounce"),headers:t._jsonHeaders,data:{userid:s,bounce:"false",announcement:n||"The bouncer let "+s+" back in."}};return ge.stRequest(a)},this.getRoomExtendedDetails=function(e){var r=e.roomids,n=e.entities,i=e.customids,s=f.formify({roomid:r,entity:n,customid:i}),a={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/batch/details?"+s),headers:t._jsonHeaders};return ge.stRequest(a).then(function(e){return e.data})},this.setRoomShadowbanStatus=function(e,r,n,i){var s=f.forceObjKeyOrString(r),a={shadowban:!!n,applyeffect:!!n,userid:f.forceObjKeyOrString(e,"userid")};i&&a.applyeffect&&(a.expireseconds=i);var u={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+s+"/shadowban"),headers:t._jsonHeaders,data:a};return ge.stRequest(u).then(function(e){return e.data})},this.setRoomMuteStatus=function(e,r,n,i){var s=f.forceObjKeyOrString(r),a={applyeffect:!!n,mute:!!n,userid:f.forceObjKeyOrString(e,"userid")};i&&a.applyeffect&&(a.expireseconds=i);var u={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+s+"/mute"),headers:t._jsonHeaders,data:a};return ge.stRequest(u).then(function(e){return e.data})},this.reportUser=function(e,r,n,i){void 0===n&&(n=Oe.ReportType.abuse);var s=f.forceObjKeyOrString(e,"userid"),a=f.forceObjKeyOrString(r,"userid"),u=f.forceObjKeyOrString(i,"id"),c={method:o.POST,url:f.buildAPI(t._config,"/chat/rooms/"+u+"/users/"+s+"/report"),headers:t._jsonHeaders,data:{userid:a,reporttype:n}};return ge.stRequest(c).then(function(e){return e.data})},this.setConfig(e)}return e.prototype.joinRoomByCustomId=function(e,t){var r=f.forceObjKeyOrString(e,"customid"),n={method:o.POST,url:f.buildAPI(this._config,"chat/roomsbycustomid/"+r+"/join"),headers:this._jsonHeaders};return t&&(n.data={userId:t.userid,handle:t.handle,displayname:t.displayname||"",pictureurl:t.pictureurl||"",profileurl:t.profileurl||""}),ge.stRequest(n).then(function(e){return e.data})},e}();we.RestfulChatRoomService=Ce;var Te,je,Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.UserSearchType=Pe.UserRole=void 0,(je=Pe.UserRole||(Pe.UserRole={})).admin="admin",je.moderator="moderator",je.user="user",(Te=Pe.UserSearchType||(Pe.UserSearchType={})).handle="handle",Te.name="name",Te.userid="userid";var Ue={};Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.RestfulUserService=void 0;var Ie=function(e){var t=this;this._apiExt="user/users",this.setConfig=function(e){t._config=e,t._jsonHeaders=f.getJSONHeaders(t._config.apiToken)},this.createOrUpdateUser=function(e){var r={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e.userid),headers:t._jsonHeaders,data:{userid:e.userid,handle:e.handle,displayname:e.displayname,pictureurl:e.pictureurl,profileurl:e.profileurl,role:e.role||Pe.UserRole.user}};return ge.stRequest(r).then(function(e){return e.data})},this.setBanStatus=function(e,r,n){var i=e.userid||e,s=f.buildAPI(t._config,t._apiExt+"/"+i+"/ban"),a={applyeffect:""+r};n&&r&&(a.expireseconds=Math.floor(n));var u={method:o.POST,url:s,headers:t._jsonHeaders,data:a};return ge.stRequest(u).then(function(e){return e.data})},this.setShadowBanStatus=function(e,r,n){var i=e.userid||e,s=f.buildAPI(t._config,t._apiExt+"/"+i+"/shadowban"),a={shadowban:""+r,applyeffect:""+r};n&&r&&(a.expireseconds=Math.floor(n));var u={method:o.POST,url:s,headers:t._jsonHeaders,data:a};return ge.stRequest(u).then(function(e){return e.data})},this.searchUsers=function(e,r){var n=f.buildAPI(t._config,"user/search"),i={type:r};r&&r!==Pe.UserSearchType.handle||(i.handle=e),r===Pe.UserSearchType.userid&&(i.userid=e),r===Pe.UserSearchType.name&&(i.name=e);var s={method:o.POST,url:n,headers:t._jsonHeaders,data:i};return ge.stRequest(s).then(function(e){return e.data})},this.deleteUser=function(e){var r=e.userid||e,n={method:o.DELETE,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.listUsers=function(e){var r="?";e&&(r+=f.formify(e));var n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.getUserDetails=function(e){var r=f.forceObjKeyOrString(e,"userid"),n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.reportUser=function(e,r,n){void 0===n&&(n=Oe.ReportType.abuse);var i=f.forceObjKeyOrString(e,"userid"),s={userid:f.forceObjKeyOrString(r,"userid"),reporttype:n},a={method:o.POST,url:f.buildAPI(t._config,"user/users/"+i+"/report"),headers:t._jsonHeaders,data:s};return ge.stRequest(a).then(function(e){return e.data})},this.listUsersInModerationQueue=function(e){var r={method:o.POST,url:f.buildAPI(t._config,"user/moderation/queues/reportedusers"),headers:t._jsonHeaders,data:e};return ge.stRequest(r).then(function(e){return e.data})},this.setConfig(e)};Ue.RestfulUserService=Ie;var Ae={},He=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},Ne=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.RestfulNotificationService=void 0;var xe=function(e){var t=this;this._jsonHeaders={},this.setConfig=function(e){t._config=e,t._jsonHeaders=f.getJSONHeaders(t._config.apiToken)},this.listUserNotifications=function(e){var r={limit:20,includeread:!1,filterNotificationTypes:[n.EventType.speech,n.EventType.reply,n.EventType.reaction]},i=Object.assign(r,e);if(!i.userid)throw new s.SettingsError("Must include userid to request notifications");if(!i.filterNotificationTypes||!i.filterNotificationTypes.length)throw new s.SettingsError("Must include at least one notification type");var a="";i.filterNotificationTypes.map(function(e){a=a+"&filterNotificationTypes="+e});var u={method:o.GET,headers:t._jsonHeaders,url:f.buildAPI(t._config,"user/users/"+i.userid+"/notification/listnotifications?"+a+"&limit="+i.limit+"&includeread="+i.includeread)};return ge.stRequest(u).then(function(e){return e.data})},this.setNotificationReadStatus=function(e,r,n){void 0===n&&(n=!0);var i={notificationid:e,userid:r,read:!!n};if(!i.notificationid)throw new Error("Must set notification ID to update notificaiton");var s=f.formify(i),a=f.buildAPI(t._config,"/user/users/"+i.userid+"/notification/notifications/"+i.notificationid+"/update?"+s),u={method:o.PUT,headers:t._jsonHeaders,url:a};return ge.stRequest(u).then(function(e){return e.data})},this._validateNotificationRequest=function(e){if(!e.userid)throw new Error("Must specify userid to set notification status");if(!e.notificationid&&!e.eventid)throw Error("Must set either notificationid or eventid to delete a notification");if(e.notificationid&&e.eventid)throw Error("Set either notificationid or eventid, not both")},this.setNotificationReadStatusByChatEventId=function(e,r,n){void 0===n&&(n=!0);var i={chateventid:e,userid:r,read:!!n};t._validateNotificationRequest(i);var s,a=f.formify(i);if(!i.chateventid)throw new Error("Must include chateventid to set read status");s=f.buildAPI(t._config,"/user/users/"+i.userid+"/notification/notifications/"+i.chateventid+"/update?"+a);var u={method:o.PUT,headers:t._jsonHeaders,url:s};return ge.stRequest(u).then(function(e){return e.data})},this.markAllNotificationsAsRead=function(e,r){void 0===r&&(r=!0);var n=f.forceObjKeyOrString(e,"userid"),i={method:o.PUT,headers:t._jsonHeaders,url:f.buildAPI(t._config,"/user/users/"+n+"/notification/notifications_all/markread?delete="+r)};return ge.stRequest(i).then(function(e){return e.data})},this.deleteNotification=function(e,r){return He(t,void 0,void 0,function(){var t,n;return Ne(this,function(i){return t=f.buildAPI(this._config,"/user/users/"+r+"/notification/notifications/"+e),n={method:o.DELETE,headers:this._jsonHeaders,url:t},[2,ge.stRequest(n).then(function(e){return e.data})]})})},this.deleteNotificationByChatEventId=function(e,r){return He(t,void 0,void 0,function(){var t,n;return Ne(this,function(i){return t=f.buildAPI(this._config,"/user/users/"+r+"/notifications/notificationsbyid/chateventid/"+e),n={method:o.DELETE,headers:this._jsonHeaders,url:t},[2,ge.stRequest(n).then(function(e){return e.data})]})})},this.setConfig(e)};Ae.RestfulNotificationService=xe;var qe={};Object.defineProperty(qe,"__esModule",{value:!0}),qe.RestfulChatModerationService=void 0;var Me=function(){function e(e){var t=this;this._config={appId:""},this._apiExt="chat/moderation/queues/events",this.listMessagesInModerationQueue=function(e){if(void 0===e&&(e={}),!e)throw new Error("Must submit valid list request");var r={method:"GET",url:f.buildAPI(t._config,t._apiExt+"?cursor="+(e.cursor?e.cursor:"")+"&roomId="+(e.roomId?e.roomId:"")+"&limit="+(e.limit?e.limit:"")),headers:t._jsonHeaders};return ge.stRequest(r).then(function(e){return e.data})},this.moderateEvent=function(e,r){var n={method:"POST",url:f.buildAPI(t._config,t._apiExt+"/"+e.id+"/applydecision"),headers:t._jsonHeaders,data:{approve:!!r+""}};return ge.stRequest(n).then(function(e){return e.data})},this.listRoomEffects=function(e){var r=f.forceObjKeyOrString(e),n={method:o.GET,url:f.buildAPI(t._config,"/chat/rooms/"+r+"/usereffects"),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.applyFlagModerationDecision=function(e,r,n){var i=f.forceObjKeyOrString(r),s=f.forceObjKeyOrString(e,"userid"),a={method:o.POST,url:f.buildAPI(t._config,"/chat/rooms/"+i+"/moderation/flaggedusers/"+s+"/applydecision"),headers:t._jsonHeaders,data:{approve:!!n+""}};return ge.stRequest(a).then(function(e){return e.data})},this.muteUserInRoom=function(e,r,n){var i=f.forceObjKeyOrString(r),s={userid:f.forceObjKeyOrString(e,"userid"),mute:!0,applyeffect:!0};n&&(s.expireseconds=n);var a={method:o.POST,url:f.buildAPI(t._config,"/chat/rooms/"+i+"/mute"),headers:t._jsonHeaders,data:s};return ge.stRequest(a).then(function(e){return e.data})},this.unMuteUserInRoom=function(e,r){var n=f.forceObjKeyOrString(r),i={userid:f.forceObjKeyOrString(e,"userid"),mute:!1,applyeffect:!1},s={method:o.POST,url:f.buildAPI(t._config,"/chat/rooms/"+n+"/mute"),headers:t._jsonHeaders,data:i};return ge.stRequest(s).then(function(e){return e.data})},this.shadowbanUserInRoom=function(e,r,n){var i=f.forceObjKeyOrString(r),s={shadowban:!0,applyeffect:!0,userid:f.forceObjKeyOrString(e,"userid")};n&&s.applyeffect&&(s.expireseconds=n);var a={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+i+"/shadowban"),headers:t._jsonHeaders,data:s};return ge.stRequest(a).then(function(e){return e.data})},this.unShadowbanUserInRoom=function(e,r){var n=f.forceObjKeyOrString(r),i={shadowban:!1,applyeffect:!1,userid:f.forceObjKeyOrString(e,"userid")},s={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+n+"/shadowban"),headers:t._jsonHeaders,data:i};return ge.stRequest(s).then(function(e){return e.data})},this.purgeMessagesInRoom=function(e,r){var n=f.forceObjKeyOrString(r),i=f.forceObjKeyOrString(e,"userid"),s={method:o.POST,url:f.buildAPI(t._config,"/chat/rooms/"+n+"/commands/purge/"+i),headers:t._jsonHeaders};return ge.stRequest(s).then(function(e){return e.data})},this.setConfig(e)}return e.prototype.setConfig=function(e){this._config=Object.assign(o.DEFAULT_CONFIG,e),this._jsonHeaders=f.getJSONHeaders(this._config.apiToken)},e}();qe.RestfulChatModerationService=Me;var ke={},De=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},Ke=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(ke,"__esModule",{value:!0}),ke.ChatClient=void 0;var Le=function(){function e(e){var t=this;this._config={appId:""},this._user={userid:"",handle:""},this._lastCommand=null,this._lastCommandTime=0,this._lastCommandTimeoutDuration=3e3,this._getDebug=function(){return JSON.stringify(t)},this.setConfig=function(e){t._config=Object.assign(o.DEFAULT_CONFIG,e),t._eventService&&t._eventService.setConfig(t._config),t._roomService&&t._roomService.setConfig(t._config),t._userService&&t._userService.setConfig(t._config),t._notificationServce&&t._notificationServce.setConfig(t._config),t._moderationService&&t._moderationService.setConfig(t._config),t._eventService=t._eventService||new be.RestfulChatEventService(t._config),t._roomService=t._roomService||new we.RestfulChatRoomService(t._config),t._userService=t._userService||new Ue.RestfulUserService(t._config),t._notificationServce=t._notificationServce||new Ae.RestfulNotificationService(t._config),t._moderationService=t._moderationService||new qe.RestfulChatModerationService(t._config),t._config.user&&Object.assign(t._user,t._config.user)},this.getConfig=function(){return t._config},this.getEventById=function(e,r){return t._roomService.getEventById(e,r||t._currentRoom.id)},this.setDefaultGoalImage=function(e){return t._defaultGoalImage=e,t._defaultGoalImage},this.setEventHandlers=function(e){t._eventService.setEventHandlers(e)},this.getEventHandlers=function(){return t._eventService.getEventHandlers()},this.getEventService=function(){return t._eventService},this.getRoomService=function(){return t._roomService},this.startListeningToEventUpdates=function(e){if(e)return t.joinRoom(e).then(function(){return t.startListeningToEventUpdates()});t._eventService.startEventUpdates()},this.stopListeningToEventUpdates=function(){t._eventService.stopEventUpdates()},this.listRooms=function(e,r){return t._roomService.listRooms(e,r)},this.listParticipants=function(e,r){if(void 0===r&&(r=200),!t._currentRoom)throw new s.SettingsError(h.MISSING_ROOM);return t._roomService.listParticipants(t._currentRoom,e,r)},this.setUser=function(e){return t._user=e,t._eventService.setUser(t._user),t},this.getCurrentUser=function(e){return t._user},this.createOrUpdateUser=function(e,r){return void 0===r&&(r=!0),t._userService.createOrUpdateUser(e).then(function(e){return r&&(t._user=e),e})},this.getUpdates=function(){return t._eventService.getUpdates()},this.joinRoom=function(e,r){return void 0===r&&(r=!1),t._roomService.joinRoom(e,t._user).then(function(e){return De(t,void 0,void 0,function(){return Ke(this,function(t){switch(t.label){case 0:return this._currentRoom=e.room,this._eventService.setCurrentRoom(this._currentRoom),this._eventService.setPreviousEventsCursor(e.previouseventscursor||""),e.eventscursor.events.reverse(),r?[3,2]:[4,this._eventService.handleUpdates(e.eventscursor)];case 1:t.sent(),t.label=2;case 2:return[2,e]}})})})},this.exitRoom=function(){if(!t._eventService.getCurrentRoom())throw new s.SettingsError("Cannot exit if not in a room!");return t._roomService.exitRoom(t._user,t._currentRoom).then(function(e){return e})},this.purgeUserMessagesFromRoom=function(e,r){var n=e||t._user,o=r||t._currentRoom;if(!o)throw new s.SettingsError("Requires setting a room to issue purge");return t._roomService.purgeUserMessagesFromRoom(o,n)},this.getCurrentRoom=function(){return t._eventService.getCurrentRoom()},this.setCurrentRoom=function(e){t._currentRoom=e,t._eventService.setCurrentRoom(e)},this.getRoomDetails=function(e){return t._roomService.getRoomDetails(e)},this.getRoomDetailsByCustomId=function(e){return t._roomService.getRoomDetailsByCustomId(e)},this.isUserBouncedFromRoom=function(e,r,n){return De(t,void 0,void 0,function(){var t,o;return Ke(this,function(i){switch(i.label){case 0:if(!(t=n||this._currentRoom||null))throw new Error("Invalid room, make sure the room has a valid ID");if(!e)throw new Error("Must provide a user or userid");return o=e.userid||e,!r&&t.id?[3,2]:[4,this.getRoomDetails(t)];case 1:(t=i.sent())&&this._currentRoom&&this._currentRoom.id&&t.id===this._currentRoom.id&&(this._currentRoom=t),i.label=2;case 2:return t&&t.bouncedusers&&0!==t.bouncedusers.length&&t&&t.bouncedusers&&t.bouncedusers.includes(o)?[2,!0]:[2,!1]}})})},this.getUserEffects=function(e,r,n){return De(t,void 0,void 0,function(){var t,r,o;return Ke(this,function(i){if(t=n||this._currentRoom||null,r=e||this._user,!t)throw new Error("Need to specify or join a chat room to check user effects");if(!r)throw new Error("Need to specify a user or set current user to get effects");return o=f.forceObjKeyOrString(r,"userid"),[2,this._moderationService.listRoomEffects(t).then(function(e){var t,r={mute:!1,shadowban:!1,flag:!1};return null===(t=null==e?void 0:e.effects)||void 0===t||t.map(function(e){if(e.user.userid==o){if("flag"===e.effect.effecttype)return void(r.flag=!0);if("mute"===e.effect.effecttype)return void(r.mute=!0);if("shadowban"===e.effect.effecttype)return void(r.shadowban=!0)}}),r})]})})},this.isUserShadowbanned=function(e,r,n){return De(t,void 0,void 0,function(){var t,o;return Ke(this,function(i){switch(i.label){case 0:if(!(t=n||this._currentRoom||null))throw new Error("Invalid room, make sure the room has a valid ID");if(!e)throw new Error("Must provide a user or userid");return o=e.userid||e,!r&&t.id?[3,2]:[4,this.getRoomDetails(t)];case 1:(t=i.sent())&&this._currentRoom&&this._currentRoom.id&&t.id===this._currentRoom.id&&(this._currentRoom=t),i.label=2;case 2:return t&&t.shadowbannedusers&&0!==t.shadowbannedusers.length&&t&&t.shadowbannedusers&&t.shadowbannedusers.includes(o)?[2,!0]:[2,!1]}})})},this.executeChatCommand=function(e,r){return t._throttle(e),t._eventService.executeChatCommand(t._user,e,r)},this.sendAnnouncement=function(e,r){return t._throttle(e),t._eventService.executeChatCommand(t._user,e,Object.assign(r||{},{eventtype:n.ChatOptionsEventType.announcement}))},this.sendQuotedReply=function(e,r,n){return t._throttle(e),t._eventService.sendQuotedReply(t._user,e,r,n)},this.sendThreadedReply=function(e,r,n){return t._throttle(e),t._eventService.sendThreadedReply(t._user,e,r,n)},this.reactToEvent=function(e,r,n){return t._eventService.reactToEvent(t._user,e,r,n)},this.sendAdvertisement=function(e){return t._eventService.sendAdvertisement(t._user,e)},this.sendGoal=function(e,r,n){return t._eventService.sendGoal(t._user,r||t._defaultGoalImage||"",e,n)},this.flagEventLogicallyDeleted=function(e,r){return void 0===r&&(r=!0),t._eventService.flagEventLogicallyDeleted(t._user,e,r)},this.permanetlyDeleteEvent=function(e){return t._eventService.permanetlyDeleteEvent(t._user,e)},this.reportMessage=function(e,r){var n={reporttype:r,userid:t._user.userid};return t._eventService.reportMessage(e,n)},this.createRoom=function(e){return t._roomService.createRoom(e)},this.updateRoom=function(e){return t._roomService.updateRoom(e)},this.deleteRoom=function(e){return t._roomService.deleteRoom(e)},this.setBanStatus=function(e,r){return t._userService.setBanStatus(e,r)},this.setShadowBanStatus=function(e,r){return r&&r.roomid?t._roomService.setRoomShadowbanStatus(e,r.roomid||t._currentRoom,r.applyeffect,r.expireseconds):t._userService.setShadowBanStatus(e,r.applyeffect,r.expireseconds)},this.shadowBanUserFromRoom=function(e,r,n){return t._roomService.setRoomShadowbanStatus(e,n||t._currentRoom,!0,r)},this.unShadowBanUserFromRoom=function(e,r,n){return t._roomService.setRoomShadowbanStatus(e,n||t._currentRoom,!1,r)},this.muteUserInRoom=function(e,r,n,o){var i=o||t._currentRoom;return t._roomService.setRoomMuteStatus(e,i,r,n)},this.searchUsers=function(e,r,n){return t._userService.searchUsers(e,r,n)},this.listUsers=function(e){return t._userService.listUsers(e)},this.listEventsByType=function(e){return t._eventService.listEventsByType(e)},this.listUserNotifications=function(e){void 0===e&&(e={});var r=Object.assign({limit:50,userid:t._user?t._user.userid:"",includeread:!1},e);return t._notificationServce.listUserNotifications(r)},this.markAllNotificationsAsRead=function(e,r){void 0===r&&(r=!0);var n=e||t._user;return t._notificationServce.markAllNotificationsAsRead(n,r)},this.setNotificationReadStatus=function(e,r,n){var o=n||t._user?t._user.userid:"";return t._notificationServce.setNotificationReadStatus(e,o,r)},this.deleteNotification=function(e,r){return De(t,void 0,void 0,function(){var t;return Ke(this,function(n){return t=r||this._user?this._user.userid:"",[2,this._notificationServce.deleteNotification(e,t)]})})},this.deleteNotificationByChatEventId=function(e,r){var n=r||t._user?t._user.userid:"";return t._notificationServce.deleteNotificationByChatEventId(e,n)},this.deleteUser=function(e){return t._userService.deleteUser(e)},this.getUserDetails=function(e){return t._userService.getUserDetails(e)},this.messageIsReported=function(e,r){var n=r||t._user,o=f.forceObjKeyOrString(n,"userid");return!o&&!!(e&&e.reports&&e.reports.length)&&!!e.reports.find(function(e){return e.userid==o})},this.getRoomExtendedDetails=function(e){return t._roomService.getRoomExtendedDetails(e)},this.messageIsReactedTo=function(e,r){if(!t._user||!t._user.userid)return!1;if(e&&e.reactions&&e.reactions.length){var n=e.reactions.find(function(e){return e.type===r});if(void 0!==n)return!!n.users.find(function(e){return e.userid===t._user.userid})}return!1},this.listPreviousEvents=function(e,r){return void 0===r&&(r=100),t._eventService.listPreviousEvents(e,r)},this.bounceUser=function(e,r){return De(t,void 0,void 0,function(){return Ke(this,function(t){switch(t.label){case 0:return[4,this._roomService.bounceUserFromRoom(this._currentRoom,e,r)];case 1:return[2,t.sent().data]}})})},this.unbounceUser=function(e,r){return De(t,void 0,void 0,function(){return Ke(this,function(t){switch(t.label){case 0:return[4,this._roomService.unbounceUserFromRoom(this._currentRoom,e,r)];case 1:return[2,t.sent().data]}})})},this.setUpdatesCursor=function(e){t._eventService.setUpdatesCursor(e)},this.setPreviousEventsCursor=function(e){t._eventService.setPreviousEventsCursor(e)},this.reportUser=function(e,r,n){return void 0===n&&(n=Oe.ReportType.abuse),t._userService.reportUser(e,r,n)},this.reportUserInRoom=function(e,r,n,o){return void 0===n&&(n=Oe.ReportType.abuse),t._roomService.reportUser(e,r,n,o)},this.updateChatEvent=function(e,r,n){return t._eventService.updateChatEvent(e,r,n)},this.listEventsByTimestamp=function(e){return t._eventService.listEventsByTimestamp(e)}}return e.prototype._throttle=function(e){e==this._lastCommand&&(new Date).getTime()-this._lastCommandTime<this._lastCommandTimeoutDuration?new Error(h.THROTTLE_ERROR).code=405:(this._lastCommandTime=(new Date).getTime(),this._lastCommand=e)},e.prototype.joinRoomByCustomId=function(e,t){var r=this;return void 0===t&&(t=!1),this._roomService.joinRoomByCustomId(e,this._user).then(function(e){return De(r,void 0,void 0,function(){return Ke(this,function(r){switch(r.label){case 0:return this._currentRoom=e.room,this._eventService.setCurrentRoom(this._currentRoom),this._eventService.setPreviousEventsCursor(e.previouseventscursor||""),t?[3,2]:[4,this._eventService.handleUpdates(e.eventscursor)];case 1:r.sent(),r.label=2;case 2:return[2,e]}})})})},e.prototype.setNotificationReadStatusByChatEventId=function(e,t,r){var n=r||this._user?this._user.userid:"";return this._notificationServce.setNotificationReadStatusByChatEventId(e,n,t)},e.init=function(t,r){void 0===t&&(t={appId:""});var n=new e(t);return n.setConfig(t),r&&n.setEventHandlers(r),n},e}();ke.ChatClient=Le;var Be,Fe,Ge={};Object.defineProperty(Ge,"__esModule",{value:!0}),Ge.WebStatusString=Ge.WebStatusCode=Ge.Reaction=Ge.Kind=void 0,(Fe=Ge.Kind||(Ge.Kind={})).chat="chat.event",Fe.roomusereffects="chat.list.roomusereffects",Fe.room="chat.room",Fe.notification="notification",Fe.bounce="chat.bounceuser",Fe.user="app.user",Fe.api="api.result",Fe.webhook="webhook.webhook",Fe.webhookevent="webhook.event",Fe.webhooklogs="list.webhook.logentries",Fe.webhookcommentpayload="webhook.payload.comment",Fe.webhookcommentreplypayload="webhook.payload.commentreply",Fe.chatcommand="chat.executecommand",Fe.conversation="comment.conversation",Fe.deletedconversation="delete.conversation",Fe.comment="comment.comment",Fe.deletedcomment="delete.comment",Fe.deletedroom="deleted.room",Fe.deleteduser="deleted.appuser",Fe.conversationlist="list.commentconversations",Fe.chatlist="list.chatevents",Fe.eventlist="list.events",Fe.roomlist="list.chatrooms",Fe.userlist="list.users",Fe.repliesbyparentidlist="list.repliesbyparentid",Fe.commentreplygrouplist="list.commentreplygroup",Fe.chatroomextendeddetails="chat.room.list.extendeddetails",(Ge.Reaction||(Ge.Reaction={})).like="like",(Be=Ge.WebStatusCode||(Ge.WebStatusCode={}))[Be.OK=200]="OK",Be[Be.NOT_FOUND=404]="NOT_FOUND",Be[Be.SERVER_ERROR=500]="SERVER_ERROR",(Ge.WebStatusString||(Ge.WebStatusString={})).OK="OK";var Je={};Object.defineProperty(Je,"__esModule",{value:!0}),Je.getUrlConversationId=Je.getUrlCommentId=void 0,Je.getUrlCommentId=function(e){var t=e.id||e;return"string"!=typeof t?"":encodeURIComponent(t)},Je.getUrlConversationId=function(e){var t=e.conversationid||e;return"string"!=typeof t?"":encodeURIComponent(t)};var Ve={},ze=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},We=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.RestfulCommentService=void 0;var Qe=function(e){var t=this;this._apiExt="comment/conversations",this.setConfig=function(e){return t._config=e,t._apiHeaders=f.getUrlEncodedHeaders(t._config.apiToken),t._jsonHeaders=f.getJSONHeaders(t._config.apiToken),e},this._requireUser=function(e){if(!e)throw new s.RequireUserError(h.MUST_SET_USER);if(!e.userid)throw new s.RequireUserError(h.USER_NEEDS_ID)},this._requireConversationId=function(e){if(!e)throw new s.ValidationError(h.NO_CONVERSATION_SET)},this._buildUserComment=function(e,t){var r=e;return"string"==typeof e&&(r={body:e}),Object.assign({},r,t)},this.getConversation=function(){return t._conversation},this.publishComment=function(e,r,n,o){t._requireConversationId(e);var i=o||r.replyto;t._requireUser(n||r);var s=t._buildUserComment(r,n);return i?t._makeReply(e,s,i):t._makeComment(e,s)},this._makeComment=function(e,r){var n={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments"),headers:t._jsonHeaders,data:r};return ge.stRequest(n).then(function(e){return e.data})},this._makeReply=function(e,r,n){var i=n.id||n||r.replyto;if(!i||"string"!=typeof i)throw new s.ValidationError(h.MISSING_REPLYTO_ID);var a={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+i),headers:t._jsonHeaders,data:r};return ge.stRequest(a).then(function(e){return e.data}).catch(function(e){throw e})},this.getComment=function(e,r){t._requireConversationId(e);var n=Je.getUrlCommentId(r),i={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+n),headers:t._jsonHeaders};return ge.stRequest(i).then(function(e){return e.data}).catch(function(e){if(404===e.response.status)return null;throw e})},this._finalDelete=function(e,r,n){return ze(t,void 0,void 0,function(){var t,n;return We(this,function(i){switch(i.label){case 0:return t=Je.getUrlCommentId(r),n={method:o.DELETE,url:f.buildAPI(this._config,this._apiExt+"/"+e+"/comments/"+t),headers:this._jsonHeaders},[4,ge.stRequest(n)];case 1:return[2,i.sent().data]}})})},this._markDeleted=function(e,r,n){return ze(t,void 0,void 0,function(){var t,i;return We(this,function(s){return this._requireUser(n),t=Je.getUrlCommentId(r),i={method:o.PUT,url:f.buildAPI(this._config,this._apiExt+"/"+e+"/comments/"+t+"/setdeleted?userid="+n.userid+"&deleted=true&permanentifnoreplies=false"),headers:this._jsonHeaders},[2,ge.stRequest(i).then(function(e){var t=e.data;return{kind:Ge.Kind.deletedcomment,conversationid:t.conversationid,commentid:t.id,deletedComments:1}})]})})},this.deleteComment=function(e,r,n,o){return t._requireConversationId(e),o?t._finalDelete(e,r,n):t._markDeleted(e,r,n)},this.updateComment=function(e,r){t._requireConversationId(e);var n=Je.getUrlCommentId(r);return ge.stRequest({method:o.PUT,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+n),headers:t._jsonHeaders,data:{body:r.body,userid:r.userid}}).then(function(e){return e.data})},this.react=function(e,r,n,i,s){void 0===s&&(s=!0),t._requireConversationId(e),t._requireUser(n);var a=Je.getUrlCommentId(r),u={userid:n.userid,reaction:i,reacted:!!s},c={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+a+"/react"),headers:t._jsonHeaders,data:u};return ge.stRequest(c).then(function(e){return e.data})},this.vote=function(e,r,n,i){t._requireConversationId(e),t._requireUser(n);var s=Je.getUrlCommentId(r),a={method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+s+"/vote"),headers:t._jsonHeaders,data:{vote:i,userid:n.userid}};return ge.stRequest(a).then(function(e){return e.data})},this.report=function(e,r,n,i){t._requireConversationId(e),t._requireUser(n);var s=Je.getUrlCommentId(r);return ge.stRequest({method:o.POST,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+s+"/report"),headers:t._jsonHeaders,data:{reporttype:i,userid:n.userid}}).then(function(e){return e.data})},this.getReplies=function(e,r,n){t._requireConversationId(e);var i=Je.getUrlCommentId(r),s=f.formify(n);return ge.stRequest({method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+e+"/comments/"+i+"/replies/?"+s),headers:t._jsonHeaders,data:n}).then(function(e){return{conversation:e.data.conversation,comments:e.data.comments}})},this.listComments=function(e,r){if(!e)throw new s.ValidationError(h.MUST_SPECIFY_CONVERSATION);var n=Je.getUrlConversationId(e);t._requireConversationId(n);var i={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+n+"/comments",r),headers:t._jsonHeaders};return ge.stRequest(i).then(function(e){var t=e.data;return{conversation:t.conversation,comments:t.comments,cursor:t.cursor,more:t.more}})},this.listRepliesBatch=function(e,r,n){void 0===n&&(n=50);var i=Je.getUrlConversationId(e);if(t._requireConversationId(i),!r||!r.length)throw new s.ValidationError("Must provide a list of parent comment IDs");var a={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+i+"/repliesbyparentidbatch",{parentids:r,childlimit:n}),headers:t._jsonHeaders};return ge.stRequest(a).then(function(e){return e.data})},e&&this.setConfig(e)};Ve.RestfulCommentService=Qe;var Ye={};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.RestfulConversationService=void 0;var Xe=function(e){var t=this;this._apiExt="comment/conversations",this.setConfig=function(e){t._config=e,t._apiHeaders=f.getUrlEncodedHeaders(t._config.apiToken),t._jsonHeaders=f.getJSONHeaders(t._config.apiToken)},this.createConversation=function(e){var r={method:o.POST,url:f.buildAPI(t._config,t._apiExt),headers:t._jsonHeaders,data:e};return ge.stRequest(r).then(function(e){return e.data})},this.getConversation=function(e){var r=Je.getUrlConversationId(e),n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.getConversationByCustomId=function(e){var r=Je.getUrlConversationId(e,"customid"),n={method:o.GET,url:f.buildAPI(t._config,"comment/find/conversation/bycustomid?customid="+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},this.deleteConversation=function(e){var r=Je.getUrlConversationId(e),n={method:o.DELETE,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n)},this.listConversations=function(e){var r="";e&&(r="?"+f.formify(e));var n={method:o.GET,url:f.buildAPI(t._config,t._apiExt+"/"+r),headers:t._jsonHeaders};return ge.stRequest(n).then(function(e){return e.data})},e&&this.setConfig(e)};Ye.RestfulConversationService=Xe;var $e={},Ze=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,i){function s(e){try{u(n.next(e))}catch(t){i(t)}}function a(e){try{u(n.throw(e))}catch(t){i(t)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(s,a)}u((n=n.apply(e,t||[])).next())})},et=this&&this.__generator||function(e,t){var r,n,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,n=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(a){i=[6,a],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}};Object.defineProperty($e,"__esModule",{value:!0}),$e.CommentClient=void 0;var tt=function(){function e(){var e=this;this._defaultCommentRequest={includechildren:!1},this.getConfig=function(){return e._config},this.setUser=function(t){e._user=t},this.getCurrentUser=function(){return e._user},this.setConfig=function(t,r,n){e._config=Object.assign({},o.DEFAULT_CONFIG,t),e._commentService&&!r||(e._commentService=r||new Ve.RestfulCommentService),e._conversationService&&!n||(e._conversationService=n||new Ye.RestfulConversationService),e._userService||(e._userService=new Ue.RestfulUserService(e._config)),e._conversationService.setConfig(e._config),e._commentService.setConfig(e._config),t.user&&(e._user=t.user)},this.createConversation=function(t,r){return void 0===r&&(r=!0),Ze(e,void 0,void 0,function(){var e;return et(this,function(n){switch(n.label){case 0:return[4,this._conversationService.createConversation(t)];case 1:return e=n.sent(),r&&(this._currentConversation=e),[2,e]}})})},this.ensureConversation=function(t){return Ze(e,void 0,void 0,function(){var e=this;return et(this,function(r){return[2,this.getConversation(t).then(function(t){return e.setCurrentConversation(t),t}).catch(function(r){return e.createConversation(t,!0)})]})})},this.setCurrentConversation=function(t){return e._currentConversation=t,e._currentConversation},this.getCurrentConversation=function(){return e._currentConversation},this.getConversation=function(t){return e._conversationService.getConversation(t)},this.deleteConversation=function(t){return e._conversationService.deleteConversation(t)},this.publishComment=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.publishComment(n,t,e._user,r)},this.getComment=function(t){var r=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.getComment(r,t)},this.createOrUpdateUser=function(t,r){return void 0===r&&(r=!0),e._userService.createOrUpdateUser(t).then(function(t){return r&&(e._user=t),t})},this.deleteComment=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.deleteComment(n,t,e._user,r)},this.updateComment=function(t){var r=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.updateComment(r,t,e._user)},this.reactToComment=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.react(n,t,e._user,r)},this.voteOnComment=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.vote(n,t,e._user,r)},this.reportComment=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.report(n,t,e._user,r)},this.getCommentReplies=function(t,r){var n=f.forceObjKeyOrString(e._currentConversation,"conversationid"),o=f.forceObjKeyOrString(t);return e._commentService.getReplies(n,o,r)},this.listRepliesBatch=function(t,r){void 0===r&&(r=50);var n=f.forceObjKeyOrString(e._currentConversation,"conversationid");return e._commentService.listRepliesBatch(n,t,r)},this.listComments=function(t,r){var n=f.forceObjKeyOrString(r||e._currentConversation,"conversationid"),o=Object.assign({},e._defaultCommentRequest,t);return e._commentService.listComments(n,o)},this.listConversations=function(t){return e._conversationService.listConversations(t)},this.setBanStatus=function(t,r){return e._userService.setBanStatus(t,r)},this.searchUsers=function(t,r,n){return e._userService.searchUsers(t,r,n)},this.listUsers=function(t){return e._userService.listUsers(t)},this.deleteUser=function(t){return e._userService.deleteUser(t)},this.getUserDetails=function(t){return e._userService.getUserDetails(t)}}return e.init=function(t,r,n,o){var i=new e;return i.setConfig(t,n,o),r&&i.setCurrentConversation(r),i},e.prototype.getConversationByCustomId=function(e){return this._conversationService.getConversationByCustomId(e)},e}();$e.CommentClient=tt;var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.CommentModeration=rt.Vote=rt.ListSortDirection=rt.CommentSortMethod=rt.CommentType=rt.ModerationType=rt.Kind=void 0,Object.defineProperty(rt,"Kind",{enumerable:!0,get:function(){return Ge.Kind}}),Object.defineProperty(rt,"ModerationType",{enumerable:!0,get:function(){return Oe.ModerationType}}),(rt.CommentType||(rt.CommentType={})).comment="comment";var nt,ot,it,st=function(){function e(){}return e.reaction=function(e){return"reaction-"+e},e}();rt.CommentSortMethod=st,(it=rt.ListSortDirection||(rt.ListSortDirection={})).forward="forward",it.backward="backward",(ot=rt.Vote||(rt.Vote={})).up="up",ot.down="down",ot.none="",(nt=rt.CommentModeration||(rt.CommentModeration={})).flagged="flagged",nt.rejected="rejected",nt.approved="approved",function(e){if(e){var t=e.ChatClient||ke.default||ke.ChatClient||ke,r=e.CommentClient||$e.default||$e.CommentClient||$e;e.ChatClient=t,e.CommentClient=r,e.SportsTalk={},e.Conversation={},e.SportsTalk.chat={},e.SportsTalk.chat.Models=n,e.SportsTalk.comments={},e.SportsTalk.common={},e.SportsTalk.common.Models=Ge,e.SportsTalk.comments.Models=rt}console.log("Chat and commenting powered by Sportstalk247")}(window)}();